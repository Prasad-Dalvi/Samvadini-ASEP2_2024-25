<!DOCTYPE html>
<html>
<head>
    <title>Text-to-Audio Converter</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        textarea { width: 100%; height: 100px; margin-bottom: 10px; }
        button { padding: 10px 15px; background: #007bff; color: white; border: none; }
        .result { margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 5px; }
    </style>
</head>
<body>
    <h1 align="center">Text-to-Audio with Emotion</h1>
    <form id="audioForm">
        <textarea name="text" placeholder="Enter your text here..."></textarea><br>
        <button type="submit">Convert to Audio</button>
    </form>

    <div class="result">
        <h3>Detected Emotion: <span id="emotion">-</span></h3>
        <p>Confidence: <span id="confidence">-</span>%</p>
    </div>

    <script>
        document.getElementById('audioForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const formData = new FormData(e.target);
            
            try {
                const response = await fetch('/text-to-audio', {
                    method: 'POST',
                    body: formData
                });
                
                const data = await response.json();
                document.getElementById('emotion').textContent = data.emotion || '-';
                document.getElementById('confidence').textContent = 
                    data.confidence ? Math.round(data.confidence * 100) : '-';
                
                // Display the full message
                alert(data.message);
            } catch (error) {
                console.error('Error:', error);
            }
        });
    </script>
</body>
</html>